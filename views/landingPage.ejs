<head>
    <script src="jquery-3.5.1.min.js"></script>
    <title>Happy Share:)</title>
    <style>
        /*General Styles*/
        body {
            font-size: 16px;
            font-family: "Raleway", sans-serif;
            color: #555;
        }

        section {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .greyBG {
            background-color: #f5f5f5;
        }

        .grid {
            width: 100%;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }

        hr {
            width: 250px;
            height: 3px;
            background-color: #e07e7b;
            border: 0;
            margin-bottom: 50px;
        }

        .image-1 {
            background-image: url("https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/money-saving-tips-1622109964.jpg?crop=1.00xw:0.750xh;0,0.250xh&resize=1200:*")
        }

        section h3.title {
            text-transform: capitalize;
            font: bold 48px "Amatic SC", sans-serif;
            margin-bottom: 30px;
            text-align: center;
        }

        section h6.title {
            text-transform: capitalize;
            font: 28px "Amatic SC", sans-serif;
            text-align: center;
        }

        section p {
            max-width: 605px;
            line-height: 2;
            margin-bottom: 30px;
            text-align: center;
        }

        /*Header Styles*/

        header {
            text-align: center;
            padding-top: 2%;
            animation: 1s fadein 0.5s forwards;
            opacity: 0;
        }

        .adminHeader {
            animation: 2s fadein 1.5s forwards;
        }

        .adminL {
            font-family: "Amatic SC", sans-serif;
            position: absolute;
            left: 36%;
            animation: 3s fadein 2.1s forwards;
        }

        .adminR {
            font-family: "Amatic SC", sans-serif;
            position: absolute;
            left: 57%;
            animation: 4s fadein 2.9s forwards;
        }

        @keyframes fadein {
            100% {
                opacity: 1;
            }
        }

        header h2 {
            font-family: "Amatic SC", sans-serif;
            font-size: 50px;
        }

        /*Hero Styles*/

        .hero {
            position: relative;
            justify-content: center;
            text-align: center;
            color: #fff;
        }



        .hero h1 {
            font: 72px "Amatic SC", sans-serif;
            text-shadow: 2px 2px rgba(0, 0, 0, 0.3);
            margin-bottom: 15px;
        }

        .hero h3 {
            font: bold 42px "Amatic SC", sans-serif;
            font-weight: 300;
            color: rgb(0, 0, 0);
            text-shadow: 2px 2px rgba(0, 0, 0, 0.3);
        }

        .hero-content-area {
            opacity: 0;
            animation: 1s slidefade 1s forwards;
        }

        @keyframes slidefade {
            100% {
                opacity: 1;
                margin: 0;
            }
        }

        @media (max-width: 600px) {
            .hero {
                min-height: 600px;
            }

            .hero h1 {
                font-size: 48px;
            }

            .hero h3 {
                font-size: 24px;
            }

        }



        /*Packages Section*/

        .packages .grid li {

            flex-basis: 50%;
            text-align: center;
        }

        .packages .grid li i {
            color: #e07e7b;
        }

        .packages .grid li h4 {
            font-size: 30px;
            margin: 25px 0;
        }

        @media (max-width: 600px) {
            .packages .grid li {
                flex-basis: 100%;
            }
        }

        /*Testimonials Section*/

        .testimonials .quote {
            font-size: 22px;
            font-weight: 300;
            line-height: 1.5;
            margin: 40px 0 25px;
        }

        @media (max-width: 600px) {
            .testimonials .quote {
                font-size: 18px;
                margin: 15px 0;
            }

            .testimonials .author {
                font-size: 14px;
            }
        }

        /*Contact Section*/

        .contact form {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            width: 60%;
        }



        .contact form input {
            margin-right: 30px;
            font-size: 18px;
            color: #555;
            flex: 1;
        }

        @media (max-width: 600px) {
            .contact form input {
                flex-basis: 100%;
                margin: 0 0 20px 0;
            }
        }

        /*Footer Section*/

        footer p {
            text-transform: uppercase;
            font-size: 14px;
            opacity: 0.6;
            align-self: center;
        }

        @media (max-width: 600px) {
            footer {
                flex-direction: column;
            }

            footer p {
                text-align: center;
                margin-bottom: 20px;
            }
        }

        /*Statistic Section*/
        .statistic-section {
            font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
            padding-top: 70px;
            padding-bottom: 70px;
            background: #00c6ff;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
            /* fallback for old browsers */
            background: -webkit-linear-gradient(to right, #b2c8e6, #00c6ff);
            background: linear-gradient(to right, #b2c8e6, #00c6ff);
        }

        .statistic-section:hover {
            box-shadow: 0 5px 22px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
        }

        .count-title {
            font-size: 50px;
            font-weight: normal;
            margin-top: 10px;
            margin-bottom: 0;
            text-align: center;
            font-weight: bold;
            color: #fff;
        }

        .stats-text {
            font-size: 15px;
            font-weight: normal;
            margin-top: 15px;
            margin-bottom: 0;
            text-align: center;
            color: #fff;
            text-transform: uppercase;
            font-weight: bold;
        }

        .stats-line-black {
            margin: 12px auto 0;
            width: 55px;
            height: 2px;
            background-color: #fff;
        }

        .stats-icon {
            font-size: 175px;
            margin: 0 auto;
            float: none;
            color: #fff;
        }

        @media (max-width: 992px) {
            .counter {
                margin-bottom: 40px;
            }
        }

        #inlineBlk {
            text-align: center;
        }

        #num1,
        #num2 {
            display: inline;
        }

        .chart {
            position: relative;
            min-height: 290px;
            margin: 30px auto 0;
            display: block;

        }

        .destination:hover .leftStar {
            opacity: 1;
        }

        .destination:hover .rightStar {
            opacity: 1;
        }

        .leftStar {
            position: absolute;
            left: 9%;
            opacity: 0;
        }

        .rightStar {
            position: absolute;
            right: 9%;
            opacity: 0;
        }
    </style>
</head>


<body>


    <% if(req.session.memberid=="admin" ){ %>
        <!-- admin layout -->

        <header>
            <h2><a href="/" style="color: rgb(214, 211, 40);">Happy </a><a href="/"
                    style="color: rgb(255, 115, 0);">Share
                    :)</a></h2>
        </header>

        <header class="adminHeader">
            <h2>Admin Mode</h2>
        </header>

        <header class="adminL">
            <a href="/userlist">
                <h3>&#187;Manage Users</h3>
            </a>
        </header>

        <header class="adminR">
            <a href="/reporthandle">
                <h3>&#187;Handle Reports</h3>
            </a>
        </header>

        <!-- admin layout -->
        <% }else{ %>
            <header>
                <h2><a href="/" style="color: rgb(214, 211, 40);">Happy </a><a href="/"
                        style="color: rgb(255, 115, 0);">Share
                        :)</a></h2>
            </header>

            <section class="hero">
                <div class="hero-content-area">
                    <h3>A platform to share your favorite discounts/offers to others</h3>
                </div>
            </section>

            <section>
                <% if(req.session.memberid){ %>
                    <h3 class="title">Let's explore with HappyShare:)</h3>
                    <div style="display: flex; justify-content: space-between;">
                        <a class="btn tooltip-top" data-tooltip="publish your favorite discount and offer here!" href="/create" style="background-color: rgb(230, 255, 37);"><b>Create</b></a>
                        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
                        <a class="btn tooltip-top" data-tooltip="view your created posts here!" href="/manage" style="background-color: rgb(241, 42, 241);"><b>Manage</b></a>
                        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
                        <a class="btn tooltip-top" data-tooltip="Hang around the platform to explore more offers!" href="/explore" style="background-color: rgb(91, 229, 27);"><b>Explore</b></a>
                    </div>
                    <br><br><br>
                    <% } %>
            </section>

            <section class="destinations greyBG destination">
                <b class="leftStar">&#10025;</b>
                <b class="rightStar">&#10025;</b>
                <h3 class="title">Some of our destinations:</h3>
                <p>&#10077; Tired of missing the shop discount? Are the discount requirement too demanding? Come along
                    with us on one
                    of our discount sharing platform
                    with your friends. The biggest goal is to ultimately help you save more by enjoying the discount
                    with anyone
                    in this
                    platform.&#10078;</p>
            </section>

            <section>
                <hr>
                <h3 class="title">About our platform</h3>
            </section>


            <section id="statistic" class="statistic-section one-page-section">

                <div class="container">

                    <div class="row text-center">
                        <div class="col-xs-12 col-md-3">
                            <div class="counter">
                                <i class="fa fa-users fa-2x stats-icon"></i>
                                <h2 class="timer count-title count-number">
                                    <%= user %>
                                </h2>
                                <div class="stats-line-black"></div>
                                <p class="stats-text">Members</p>
                            </div>
                        </div>
                        <div class="col-xs-12 col-md-3">
                            <div class="counter">
                                <i class="fa fa-comments fa-2x stats-icon"></i>
                                <h2 class="timer count-title count-number">
                                    <%= post.length %>
                                </h2>
                                <div class="stats-line-black"></div>
                                <p class="stats-text">Posts</p>
                            </div>
                        </div>

                        <div class="col-xs-12 col-md-3">
                            <div class="counter">
                                <i class="fa fa-check fa-2x stats-icon"></i>

                                <h2 class="inlineBlk">
                                    <h2 id="num1" class="timer count-title count-number">71
                                    </h2>
                                    <h2 id="num2" class="count-title">%
                                    </h2>
                                </h2>

                                <div class="stats-line-black"></div>
                                <p class="stats-text">Success rate</p>
                            </div>
                        </div>

                        <div class="col-xs-12 col-md-3">
                            <div class="counter">
                                <i class="fa fa-thumbs-up fa-2x stats-icon"></i>

                                <h2 class="inlineBlk">
                                    <h2 id="num1" class="timer count-title count-number">87
                                    </h2>
                                    <h2 id="num2" class="count-title">%
                                    </h2>
                                </h2>

                                <div class="stats-line-black"></div>
                                <p class="stats-text">Likes</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="category">
                <br>
                <h3 class="title">What Are the Most Popular Types of Discount in <a
                        style="color: rgb(214, 211, 40);">Happy
                    </a><a style="color: rgb(255, 115, 0);">Share
                        :)</a> ?</h3>
                <a style="cursor: pointer; position:relative; bottom: 10px; right: 10px; color: #000280;"
                    onclick="window.location.reload();">Refresh</a>



                <canvas id="myChart" style="width:100%;max-width:700px"></canvas>
                <hr>
            </section>



            <section class="packages greyBG">
                <h3 class="title"><a style="color: rgb(214, 211, 40);">Happy </a><a
                        style="color: rgb(255, 115, 0);">Share
                        :)</a> membership</h3>
                <p>We offer a normal and premium membership packages. It is absolutely free to register
                    our normal member. But we've got several exceptional functions exclusively for our premium members!
                </p>
                <hr>

                <ul class="grid">
                    <li>
                        <i class="fa fa-signature fa-4x"></i>
                        <h4>Post Quota</h4>
                        <p>Having a bunch of discounts to share? Become our member and you can publish up to five posts
                            everyday! For our premium member, the quota is unlimited!
                        </p>
                    </li>
                    <li>
                        <i class="fa fa-fist-raised fa-4x"></i>
                        <h4>Priority</h4>
                        <p>Want to experience faster grouping without annoying and endless waiting? Upgrade to our
                            premium
                            member
                            and your posts could always be prioritized over other normal members!
                        </p>
                    </li>
                    <li>
                        <i class="fa fa-user-astronaut fa-4x"></i>
                        <h4>User Icon</h4>
                        <p>If you enjoy a better-looking icon, consider our premium membership.
                            We'll provide a exceptional and special user icon for you as a indentification of our
                            premium
                            member!</p>
                    </li>
                    <li>
                        <i class="fa fa-edit fa-4x"></i>
                        <h4>Edit Rights</h4>
                        <p>Got something wrong in the post? Edit or delete the post as soon as possible!
                            Member can edit each of their posts once only. For premium, it is unlimited!
                        </p>
                    </li>
                </ul>
            </section>



            <section class="contact">
                <br>

                <% if(req.session.memberid){ %>


                    <% }else{ %>
                        <h3 class="title">Let's get a taste for HappyShare:)</h3>
                        <a class="btn" href="signup" style="background-color: rgba(95, 255, 47, 0.712);">Sign up</a>
                        <h6 class="title"> to become our member</h6>

                        <h6 class="title"> OR </h6>
                        <a class="btn" href="login" style="background-color: rgba(21, 152, 228, 0.76);">Log in</a>
                        <h6 class="title"> if you already got an account~</h6>

                        <h6 class="title"> OR </h6>
                        <h6 class="title"><a href="/explore" style="color: blue;">View as a visitor</a></h6>

                        <% } %>

            </section>

            <section class="learn">
                <br>
                <h3 class="title">Learn more</h3>
                <p>Want to know more about this project? Contact our staffs via the social media.
                    Don't forget to Like and Subscribe our page.
                </p>
                <div style="margin-left:-35px;">
                    <ul>
                        <li><a href="https://twitter.com/" style="color:rgb(81, 203, 252)" target="_blank"><i
                                    class="fa fa-twitter-square fa-2x"></i></a>
                        </li>
                        <li><a href="https://www.facebook.com/" style="color:rgb(44, 44, 240)" target="_blank"><i
                                    class="fa fa-facebook-square fa-2x"></i></a>
                        </li>
                        <li><a href="https://www.snapchat.com/" style="color:rgb(229, 252, 26)" target="_blank"><i
                                    class="fa fa-snapchat-square fa-2x"></i></a>
                        </li>
                    </ul>
                </div>

                <hr>
                <form>
                    <!-- input type="email" placeholder="Email">
                <a href="#" class="btn">Subscribe now</a -->
                </form>
            </section>

            <footer>
                <p>Service provided by <a href="/" style="color: rgba(167, 17, 253, 0.705);">HappyShare:) </a></p>
                <p>Copyright © 2022 HappyShare:). All Rights Reserved. <a style="color: #00014e;" href="/terms">Terms
                        and Conditions</a></p>

            </footer>

            <% } %>
                <br><br><br>

</body>


<script type="text/javascript">
    $(document).ready(function ($) {
        $('.count-number').counterUp({
            delay: 10,
            time: 3990
        });
    });
</script>

<script>
    const ctx = document.getElementById('myChart').getContext('2d');
    const myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ['Food&Drink', 'Electronic', 'Colthing', 'Necessity', 'Course', 'Service', 'Any'],
            datasets: [{
                label: '# of Posts',
                data: [],
                backgroundColor: [
                    'rgba(255, 99, 132, 0.2)',
                    'rgba(54, 162, 235, 0.2)',
                    'rgba(255, 206, 86, 0.2)',
                    'rgba(75, 192, 192, 0.2)',
                    'rgba(153, 102, 255, 0.2)',
                    'rgba(255, 159, 64, 0.2)',
                    'rgba(155, 59, 64, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(155, 59, 64, 1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true,
                        stepSize: 1
                    }
                }]
            }
        }
    });



    var cnt1 = "<%= fnd %>";
    var cnt2 = "<%= elect %>";
    var cnt3 = "<%= ness %>";
    var cnt4 = "<%= colth %>";
    var cnt5 = "<%= course %>";
    var cnt6 = "<%= service %>";
    var cnt7 = "<%= any %>";
    myChart.data.datasets[0].data[0] = cnt1;
    myChart.data.datasets[0].data[1] = cnt2;
    myChart.data.datasets[0].data[2] = cnt3;
    myChart.data.datasets[0].data[3] = cnt4;
    myChart.data.datasets[0].data[4] = cnt5;
    myChart.data.datasets[0].data[5] = cnt6;
    myChart.data.datasets[0].data[6] = cnt7;
    myChart.update();
</script>