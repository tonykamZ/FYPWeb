<head>
    <title>Log In</title>
    <style>
        .container {
            padding-top: 20px;
        }
    </style>

</head>

<body>


    <div class="container">
        <h3>Log In to your account</h3>
        <form method="POST" action="/login">
            <div class="form-row">
                <div class="form-group col-md-4">
                    <label><b>Username</b></label>
                    <input type="string" class="form-control" value="<%= username %>" name="username" required>
                </div>

            </div>

            <p id="infoText" style="color: #ff3030;">

            </p>
            <div class="form-row">
                <div class="form-group col-md-4">
                    <label><b>Password</b>
                    <span id="showNhidePW" onclick="showNhidePW()" style="cursor: pointer;"><i class="fas fa-eye"></i></span></label>
                    <input type="password" class="form-control" id="userPW" name="password" required>

                    
                </div>

            </div>

            <div>
                <button class="btn btn-outline-success" type="submit">Login</button>
            </div>

            <small>
                <a href="/signup">Don't have an account yet? create an account here</a>

            </small>

        </form>
    </div>

</body>

<script>
    var status = "<%= status %>";
    if (status) {
        if (status == "incorrectPW") {
            var username = "<%= username %>";
            var infoText = document.getElementById("infoText");
            infoText.innerHTML = "";
            infoText.innerHTML += "üßêIncorrect password for user \"" + username + "\", " +
                "<a href=\"/forgotPassword\">forgot your password?</a>";

        } else if (status == "UserNotExisit") {
            var username = "<%= username %>";
            var infoText = document.getElementById("infoText");
            infoText.innerHTML = "";
            infoText.innerHTML += "‚ö†Ô∏èNo such user \"" + username + "\" !";
        } else if (status == "CreatedNewAC") {
            alert("Your account has been created, login with your password~");
            this.window.location += "#success";
        } else {
            alert("Unknown status: " + status + " !");
        }
    }

    function showNhidePW() {
        var x = document.getElementById("userPW");
        var showNhidePW = document.getElementById("showNhidePW");
        if (x.type === "password") {
            x.type = "text";
            showNhidePW.innerHTML = "";
            showNhidePW.innerHTML += "<i class=\"fas fa-eye-slash\"></i>";
        } else {
            x.type = "password";
            showNhidePW.innerHTML = "";
            showNhidePW.innerHTML += "<i class=\"fas fa-eye\"></i>";
        }
    }
</script>